<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<link rel="stylesheet" href="public/css/jquery-ui-smoothness/jquery-ui-1.10.4.custom.min.css" />
		<link rel="stylesheet" type="text/css" href="public/css/w2ui/w2ui-1.3.2.min.css" />
		<link rel="stylesheet" type="text/css" href="public/css/style.css" />
		<script src="public/javascript/jquery-ui/jquery-1.10.2.js"></script>
		<script src="public/javascript/jquery-ui/jquery-ui-1.10.4.custom.min.js"></script>
		<script type="text/javascript" src="public/javascript/w2ui/w2ui-1.3.2.min.js"></script>
		<script type="text/javascript" src="datas/testDataset/contacts.js"></script>
		<script type="text/javascript">
			var softwares = {
				sms : { id:'sms', label:'SMS', icon:'messages.png', uri:'views/sms/sms.html'},
				apps : { id:'apps', label:'Applications', icon:'app.png', uri:'views/app/app.html'},
				photos : { id:'photos', label:'Photos', icon:'photo.png', uri:'views/photos/photo.html'},
				ringtones : { id:'ringtones', label:'Sonneries', icon:'ringtone.png', uri:'views/ringtone/ringtone.html'},
				callLog : { id:'callLog', label:'Journal d\'appel', icon:'phone.png', uri:'views/callLog/callLog.html'},
				frequent : { id:'frequent', label:'Contacts Fréquents', icon:'frequent.png', uri:'views/frequent/frequent.html'},
				camera : { id:'amera', label:'Appareil photo', icon:'camera.png', uri:'views/camera/camera.html'},
				find : { id:'find', label:'Trouver le téléphone', icon:'find.png', uri:'views/find/find.html'},
				screenshot : { id:'screenshot', label:'Capture d\'écran', icon:'screenshot.png', uri:'views/screenshot/screenshot.html'},
				contacts : { id:'contacts', label:'Contacts', icon:'contacts.png', uri:'views/addressBook/contacts.html'},
				videos : { id:'videos', label:'Vidéos', icon:'video.png', uri:'views/videos/video.html'},
				musics : { id:'musics', label:'Musiques', icon:'music.png', uri:'views/musics/music.html'},
				files : { id:'files', label:'Fichiers', icon:'file.png', uri:'views/files/file.html'},
				help : { id:'help', label:'Aide', icon:'help.png', uri:'views/help/help.html'},
			}
			function genWindow(software){
				$('#desktop').append('<div id="sw_'+software.id+'" class="window"><div class="header"><h4 class="title">Contact</h4><div class="command"><a class="min"></a><a class="max"></a><a class="close"></a></div></div><div class="content"></div></div>');
			}
			function genIcon(feature){
				$('#shortcut-area').append('<div id="icon_'+feature.id+'" class="desktop-shortcut"><img src="public/img/desktop/airdroid/'+feature.imgPath+'" /><p>'+feature.label+'</p></div>');
			}
			jQuery(function( $ ) {
				for(var index in softwares){
					genIcon(softwares[index]);
				}
				$("#shortcut-area").sortable();
				$(".desktop-shortcut").click(function() {
					alert($(this).attr('id'));
					genWindow(softwares[$(this).attr('id')]);
				});
				$(".window").draggable();
				$(".window").resizable({ handles: "all" });
				$(".content").load("views/addressBook/contacts.html");
			});
		</script>
	</head>
	<body>
		<div id="desktop">
			<div id="shortcut-area">
			</div>
		</div>
		<div id="taskbar">
			<div id="list">
				<div class="opened tunggal"><div class="folder small"></div>
					<div class="screenshot">
						<div class="col1 fold">
							<div class="close">&times;</div>
							<div class="kotak"></div>
						</div>
					</div>
				</div>
				<div class="opened tunggal"><div class="folder np small"></div>
					<div class="screenshot">
						<div class="col1 ntpad">
							<div class="close">&times;</div>
							<div class="kotak"></div>
						</div>
					</div>
				</div>
				<div class="opened pilled">
					<div class="screenshot">
						<div class="col1 blank">
							<div class="close">&times;</div>
							<div class="kotak"></div>
						</div>
						<div class="col2 blank">
							<div class="close">&times;</div>
							<div class="kotak"></div>
						</div>
						<div class="clear"></div>
					</div>
				</div> <!-- list -->
				<div class="clear"></div>
			</div> <!-- opened pilled -->

			<div class="opened hide"></div>
			<div id="fright">
				<div class="clear"></div>
			</div>
		</div>
	</body>
</html>